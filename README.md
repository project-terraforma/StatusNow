# StatusNow - Place Status Classification

This project aims to classify whether a place (POI) is Open or Closed based on its metadata.

## Data

- `Project C Samples.parquet`: The raw dataset containing place samples.
- `processed_for_ml.parquet`: The processed dataset with engineering features (generated by `process_data.py`).

## Scripts

- **`read_data.py`**: Reads and displays the raw parquet data schema and first few rows.
- **`inspect_data.py`**: Performs deep inspection of the data, checking for valid IDs, class balance, and feature correlations.
- **`process_data.py`**: The main ETL script. It reads the raw data, creates features (Confidence, One-Hot Categories, Contact Depth), and saves the result to `processed_for_ml.parquet`.
- **`experiment_runner.py`**: Runs 5-Fold Cross Validation on multiple models (Balanced Random Forest, XGBoost) and reports metrics.

## Setup

```bash
# Create and activate virtual environment
python3 -m venv .venv
source .venv/bin/activate

# Install dependencies
pip install duckdb pandas numpy pyarrow scikit-learn imbalanced-learn xgboost
```

## Usage

1. Inspect the raw data:
   ```bash
   python3 read_data.py
   python3 inspect_data.py
   ```
2. Generate features:
   ```bash
   python3 process_data.py
   ```
3. Run Model Experiments:
   ```bash
   python3 experiment_runner.py
   ```

## Model Experiments & Findings

We compared **Balanced Random Forest** vs **XGBoost** to predict if a place is closed based on static metadata (phone presence, website presence, Overture confidence score).

### Results (Balanced Accuracy)

| Model           | Balanced Acc | Performance Analysis                                                                                                          |
| :-------------- | :----------- | :---------------------------------------------------------------------------------------------------------------------------- |
| **Balanced RF** | **64.25%**   | **Best**. The bagging + undersampling strategy helped it find weak signals in the minority class (Closed places).             |
| **XGBoost**     | 50.76%       | **Failed**. Performed equivalent to random chance. It could not separate the classes because the feature overlap is too high. |

### Key Insights

1.  **High Feature Overlap**:
    - **87%** of "Closed" places still list a phone number.
    - **81%** of "Closed" places still have a website.
2.  **Conclusion**: Static existence of metadata fields is **not sufficient** to predict closure reliably.
3.  **Recommendation**: Future improvements require **dynamic data** (e.g., checking if the website returns 404, if the phone is disconnected) or using "Ghost" data (places that disappeared between map releases).
