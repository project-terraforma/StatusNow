# StatusNow - Place Status Classification

This project aims to classify whether a place (POI) is Open or Closed based on its metadata.

## Data

- `data/Season 2 Samples 3k Project Updated.parquet`: The dataset containing place samples with a balanced distribution (~60% Open / 40% Closed).
- `data/processed_for_ml.parquet`: The processed dataset with engineering features (generated by `process_data.py`).

## Scripts

- **`read_data.py`**: Reads and displays the raw parquet data schema and first few rows.
- **`inspect_data.py`**: Performs deep inspection of the data, checking for valid IDs, class balance, and feature correlations.
- **`process_data.py`**: The main ETL script. It reads the raw data, parses JSON fields, creates features (Confidence, One-Hot Categories, Contact Depth, Recency, Social Platforms), and saves the result to `data/processed_for_ml.parquet`.
- **`experiment_runner.py`**: Runs 5-Fold Cross Validation on multiple models (Balanced Random Forest, XGBoost) and reports metrics.

## Setup

```bash
# Create and activate virtual environment
python3 -m venv .venv
source .venv/bin/activate

# Install dependencies
pip install duckdb pandas numpy pyarrow scikit-learn imbalanced-learn xgboost
```

## Usage

1. Inspect the raw data:
   ```bash
   python3 read_data.py
   python3 inspect_data.py
   ```
2. Generate features:
   ```bash
   python3 process_data.py
   ```
3. Run Model Experiments:
   ```bash
   python3 experiment_runner.py
   ```

## Model Experiments & Findings

We compared **Balanced Random Forest** vs **XGBoost** to predict if a place is closed based on static metadata, including new **Recency** and **Social Platform** features.

### Results (Balanced Accuracy)

| Model           | Balanced Acc | Performance Analysis                                                                                                          |
| :-------------- | :----------- | :---------------------------------------------------------------------------------------------------------------------------- |
| **XGBoost**     | **65.38%**   | **New Best**. Gradient boosting successfully leveraged the continuous "Recency" (days since update) signals to nudge past RF. |
| **Balanced RF** | 64.54%       | **Stable**. Performs reliably but struggles to capture the subtle signal from update dates as effectively as XGBoost.         |

### Key Insights

1.  **Recency Matters**: Adding "Days Since Last Update" was the key to breaking the 65% barrier. Freshness is a valid proxy for openness.
2.  **Source Signal**: The **Number of Sources** remains the dominant predictor (Open places = ~1.9 sources, Closed = ~1.35).
3.  **Social Nuance**: Distinguishing between generic social links and specific platforms (Facebook vs Instagram) provided marginal gains.
4.  **Ceiling**: We are likely nearing the mathematical limit of this static dataset (~65.4%). Further gains would require dynamic probing (live HTTP requests).
